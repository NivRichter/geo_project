(this["webpackJsonpleaflet-react"]=this["webpackJsonpleaflet-react"]||[]).push([[0],{122:function(e,t,a){e.exports=a(265)},127:function(e,t,a){},128:function(e,t,a){},188:function(e,t){},189:function(e,t){},265:function(e,t,a){"use strict";a.r(t);var n=a(2),o=a.n(n),c=a(47),l=a.n(c),r=(a(127),a(116)),i=a(117),u=a(120),s=a(119),m=(a(128),a(118).a.initializeApp({apiKey:"AIzaSyBHf0Ov6I_tkRSZUFnfvw01i2KhRFDmEQ8",authDomain:"bgu-project.firebaseapp.com",databaseURL:"https://bgu-project-default-rtdb.firebaseio.com",projectId:"bgu-project",storageBucket:"bgu-project.appspot.com",messagingSenderId:"611454908155",appId:"1:611454908155:web:7ba6cc379c1c1e82e0a25e",measurementId:"G-9P4GYD0677"}).database()),d=(a(80),a(36)),p=a(11),h=a(22),f=a(30),b=a(272),g=a(273),E=a(266),v=a(13),j=a.n(v).a.icon({iconUrl:a(81),iconRetinaUrl:a(81),iconAnchor:null,shadowUrl:null,shadowSize:null,shadowAnchor:null,iconSize:[25,25],className:"leaflet-venue-icon"}),w=a(270),O=a(271),B=function(e){var t=e.data,a=t.address,c=t.description,l=t.id,r=t.comments,i=e.updateDB,u=(e.data,Object(n.useState)(!1)),s=Object(f.a)(u,2),m=s[0],d=s[1],p=Object(n.useState)(""),h=Object(f.a)(p,2),b=h[0],g=h[1];return o.a.createElement(O.a,null,o.a.createElement("div",null," ",c),o.a.createElement("div",null,a," "),o.a.createElement("div",null,"\u05d4\u05e2\u05e8\u05d5\u05ea \u05d2\u05d5\u05dc\u05e9\u05d9\u05dd:"),o.a.createElement("div",null,r),o.a.createElement(w.a,{onClick:function(){d(!0)}},"\u05dc\u05d7\u05e5 \u05dc\u05d4\u05d5\u05e1\u05e4\u05ea \u05e4\u05e8\u05d8\u05d9\u05dd"),m?o.a.createElement("div",null,o.a.createElement("textarea",{type:"text",onChange:function(e){g(e.target.value),console.log(b)}}),o.a.createElement(w.a,{onClick:function(e){console.log(l+" "+b),i("100",b)}},"\u05e9\u05de\u05d5\u05e8 \u05e9\u05d9\u05e0\u05d5\u05d9\u05d9\u05dd")):null)},y=function(e){var t=e.tlv,a=e.bs,n=e.jlm,c=e.showBS,l=e.showTLV,r=e.showJLM,i=e.updateDB,u=t.map((function(e,t){return o.a.createElement(E.a,{key:t,position:e.geometry,icon:j},o.a.createElement(B,{updateDB:i,data:e}))})),s=a.map((function(e,t){return o.a.createElement(E.a,{key:t,position:e.geometry,icon:j},o.a.createElement(B,{updateDB:i,data:e}))})),m=n.map((function(e,t){return o.a.createElement(E.a,{key:t,position:e.geometry,icon:j},o.a.createElement(B,{updateDB:i,data:e}))}));return o.a.createElement(o.a.Fragment,null,l?u:null,c?s:null,r?m:null)},k=a(267),D=a(268),S=a(269),L=(a(133),a(134),function(e){var t=Object(n.useState)({currentLocation:{lat:31.268733,lng:34.7661248},zoom:8,data:e.db,showTLV:!1,showBS:!0,showJLM:!1,updateDB:e.updateDB}),a=Object(f.a)(t,2),c=a[0],l=a[1],r=Object(p.g)(),i=Object(p.f)();return Object(n.useEffect)((function(){if(r.state.latitude&&r.state.longitude){var e={lat:r.state.latitude,lng:r.state.longitude};console.log(c),l(Object(h.a)(Object(h.a)({},c),{},{data:{tlv:c.data.tlv.concat({name:"new",geometry:[e.lat,e.lng]}),bs:c.data.bs.concat({name:"new",geometry:[e.lat,e.lng]}),jlm:c.data.jlm.concat({name:"new",geometry:[e.lat,e.lng]})},currentLocation:e})),i.replace({pathname:"/map",state:{}})}}),[r]),o.a.createElement(k.a,{fluid:!0,className:"text-light bg-blue py-3"},o.a.createElement(D.a,null,o.a.createElement(S.a,null,o.a.createElement("h1",null,o.a.createElement("span",null," \u05e9\u05d5\u05de\u05e8\u05d9\u05dd \u05e2\u05dc \u05d4\u05d1\u05e0\u05d9\u05d9\u05e0\u05d9\u05dd \u05dc\u05e9\u05d9\u05de\u05d5\u05e8"),o.a.createElement("span",{role:"img","aria-label":"\u05d0\u05d5\u05d4\u05dc",className:"mx-1"})),o.a.createElement("h2",null,"\u05e8\u05d9\u05db\u05d5\u05d6 \u05de\u05d0\u05d2\u05e8\u05d9 \u05de\u05d9\u05d3\u05e2 \u05e2\u05dc \u05de\u05d1\u05e0\u05d9\u05dd \u05dc\u05e9\u05d9\u05de\u05d5\u05e8 \u05d1\u05de\u05d3\u05d9\u05e0\u05ea \u05d9\u05e9\u05e8\u05d0\u05dc"))),o.a.createElement(D.a,null,o.a.createElement(S.a,null,o.a.createElement("h2",null,"\u05ea\u05dc\u05d7\u05e6\u05d9 \u05e2\u05dc\u05d9\u05e0\u05d5"),o.a.createElement(w.a,{onClick:function(){return l(Object(h.a)(Object(h.a)({},c),{},{showTLV:!c.showTLV}))}},"\u05ea\u05dc \u05d0\u05d1\u05d9\u05d1"),o.a.createElement(w.a,{onClick:function(){return l(Object(h.a)(Object(h.a)({},c),{},{showBS:!c.showBS}))}},"\u05dc\u05d5\u05e1-\u05d0\u05e0\u05d2'\u05e1"),o.a.createElement(w.a,{onClick:function(){return l(Object(h.a)(Object(h.a)({},c),{},{showJLM:!c.showJLM}))}},"\u05d9\u05e8\u05d5\u05e9\u05dc\u05d9\u05dd"))),o.a.createElement(D.a,null,o.a.createElement(S.a,null,o.a.createElement(b.a,{center:c.currentLocation,zoom:c.zoom},o.a.createElement(g.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),o.a.createElement(y,{updateDB:c.updateDB,db:e.db,tlv:c.data.tlv,bs:c.data.bs,jlm:c.data.jlm,showTLV:c.showTLV,showBS:c.showBS,showJLM:c.showJLM})))))}),C=(a(138),void 0),J=function(){var e=Object(n.useState)({longitude:0,latitude:0}),t=Object(f.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){fetch("https://api.airtable.com/v0/appgOPm5an5ZzNvkk/favorites?api_key=keyiw9cfT8UR5IwVM").then((function(e){return e.json()})).then((function(e){C.setState({movies:e.records})})).catch((function(e){})),navigator.geolocation.getCurrentPosition((function(e){c({longitude:e.coords.longitude,latitude:e.coords.latitude})}),(function(e){console.error("Error Code = "+e.code+" - "+e.message)}),{enableHighAccuracy:!0})}),[]),o.a.createElement("div",null,o.a.createElement("h1",null,"Geolocation"),o.a.createElement("p",null,"Latitude: ",a.latitude),o.a.createElement("p",null,"longitude: ",a.longitude),o.a.createElement(d.b,{to:{pathname:"/map",state:a}},"See marker"))},U=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).handleDBUpdate=function(e,t){var a=n.state.jsonDB;for(var o in a)if(a.hasOwnProperty(o))for(var c in o)if(console.log(a[o][c]),a[o][c]&&a[o][c].id===e){console.log("HEREEE");var l=a[o][c].comments,r=void 0===l?t:l+"\n "+t;return a[o][c].comments=r,console.log(a),void n.putRequesteInDB(a)}},n.putRequesteInDB=function(e){m.ref("/").set(e),n.setState({jsonData:e})},n.handleClick=function(e){n.state.db.doc("LA").set({name:"Los Angeles",state:"CA",country:"USA"}).then((function(){console.log("Document successfully written!")})).catch((function(e){console.error("Error writing document: ",e)}))},n.state={value:"",loading:!0,activeDocRef:void 0,activeTab:"welcome",jsonURL:"https://api.jsonbin.io/b/602fced5bd6b755d0199c538",jsonKey:"$2b$10$2/NjcZqLfdoBPkpWyT71BuJeCNvU8FXl8QLhGcnAJUdAdbLdsjYK."},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;m.ref("/").on("value",(function(t){var a=t.val()?t.val():{};console.log("data: ".concat(JSON.stringify(a))),e.setState({jsonDB:a,loading:!1})}))}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("button",{onClick:this.handleClick},"\u05de\u05e0\u05d9\u05e9"),o.a.createElement(d.a,null,o.a.createElement(p.c,null,o.a.createElement(p.a,{path:"/map"},this.state.loading?"loading":o.a.createElement(L,{updateDB:this.handleDBUpdate,db:this.state.jsonDB})),o.a.createElement(p.a,{path:"/"},o.a.createElement(J,null)))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(U,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},80:function(e){e.exports=JSON.parse("{}")},81:function(e,t,a){e.exports=a.p+"static/media/venue_location_icon.2ceaf661.svg"}},[[122,1,2]]]);
//# sourceMappingURL=main.36f70817.chunk.js.map