(this["webpackJsonpleaflet-react"]=this["webpackJsonpleaflet-react"]||[]).push([[0],{124:function(e,t,a){e.exports=a(266)},129:function(e,t,a){},189:function(e,t){},190:function(e,t){},266:function(e,t,a){"use strict";a.r(t);var n=a(2),c=a.n(n),l=a(47),o=a.n(l),s=(a(129),a(117)),r=a(118),i=a(122),u=a(120),m=(a(79),a(119).a.initializeApp({apiKey:"AIzaSyBHf0Ov6I_tkRSZUFnfvw01i2KhRFDmEQ8",authDomain:"bgu-project.firebaseapp.com",databaseURL:"https://bgu-project-default-rtdb.firebaseio.com",projectId:"bgu-project",storageBucket:"bgu-project.appspot.com",messagingSenderId:"611454908155",appId:"1:611454908155:web:7ba6cc379c1c1e82e0a25e",measurementId:"G-9P4GYD0677"}).database()),v=(a(81),a(36)),h=a(12),d=a(5),b=a(30),p=a(273),g=a(274),f=a(267),_=a(14),j=a.n(_).a.icon({iconUrl:a(82),iconRetinaUrl:a(82),iconAnchor:null,shadowUrl:null,shadowSize:null,shadowAnchor:null,iconSize:[25,25],className:"leaflet-venue-icon"}),w=a(121),k=a(272),O=function(e){var t=e.data,a=t.address,l=t.description,o=t.id,s=t.comments,r=e.updateDB,i=(e.data,Object(n.useState)(!1)),u=Object(b.a)(i,2),m=u[0],v=u[1],h=Object(n.useState)(""),d=Object(b.a)(h,2),p=d[0],g=d[1];return c.a.createElement(k.a,null,c.a.createElement("div",null," ",l),c.a.createElement("div",null,a," "),c.a.createElement("div",null,"\u05d4\u05e2\u05e8\u05d5\u05ea \u05d2\u05d5\u05dc\u05e9\u05d9\u05dd:"),c.a.createElement("div",null,s),c.a.createElement(w.a,{onClick:function(){v(!0)}},"\u05dc\u05d7\u05e5 \u05dc\u05d4\u05d5\u05e1\u05e4\u05ea \u05e4\u05e8\u05d8\u05d9\u05dd"),m?c.a.createElement("div",null,c.a.createElement("textarea",{type:"text",onChange:function(e){g(e.target.value),console.log(p)}}),c.a.createElement(w.a,{onClick:function(e){console.log(o+" "+p),r("100",p)}},"\u05e9\u05de\u05d5\u05e8 \u05e9\u05d9\u05e0\u05d5\u05d9\u05d9\u05dd")):null)},S=function(e){var t=e.marks,a=e.showGroupStatus,n=e.updateDB;console.log("in vnenue: "+JSON.stringify(a));var l=Object.keys(t).reduce((function(e,l){return a[l]?e.concat(t[l].map((function(e,t){return c.a.createElement(f.a,{key:t,position:e.geometry,icon:j},c.a.createElement(O,{updateDB:n,data:e}))}))):e}),[]);return c.a.createElement(c.a.Fragment,null,l)},E=a(268),y=a(269),L=a(270),T=a(271),V=(a(134),a(135),function(e){var t=Object(n.useState)({currentLocation:{lat:31.268733,lng:34.7661248},zoom:8,data:e.db,showAllTLV:!1,showBS:!0,showJLM:!1,museum_bs:!1,religion_bs:!1,rest_bs:!1,school_bs:!1,tomb_bs:!1,garden_haifa:!1,hotel_haifa:!1,knesset_haifa:!1,relig_haifa:!1,rest_haifa:!1,school_haifa:!1,tomb_haifa:!1,bet_kneset_jer:!1,garden_jer:!1,hotel_jer:!1,rest_jer:!1,school_jer:!1,tomb_jer:!1,showStatusTLV:{eclectic_tlv:!1,inter_tlv:!1,knesset_tlv:!1,museum_tlv:!1,people_tlv:!1,rest_tlv:!1,school_tlv:!1,special_tlv:!1},updateDB:e.updateDB}),a=Object(b.a)(t,2),l=a[0],o=a[1],s=Object(h.g)(),r=Object(h.f)();Object(n.useEffect)((function(){if(s.state.latitude&&s.state.longitude){var e={lat:s.state.latitude,lng:s.state.longitude};console.log(l),o(Object(d.a)(Object(d.a)({},l),{},{data:{eclectic_tlv:l.data.tlv_all.eclectic_tlv.concat({name:"new",geometry:[e.lat,e.lng]}),inter_tlv:l.data.tlv_all.inter_tlv.concat({name:"new",geometry:[e.lat,e.lng]}),knesset_tlv:l.data.tlv_all.knesset_tlv.concat({name:"new",geometry:[e.lat,e.lng]}),museum_tlv:l.data.tlv_all.museum_tlv.concat({name:"new",geometry:[e.lat,e.lng]}),rest_tlv:l.data.tlv_all.rest_tlv.concat({name:"new",geometry:[e.lat,e.lng]}),school_tlv:l.data.tlv_all.school_tlv.concat({name:"new",geometry:[e.lat,e.lng]}),special_tlv:l.data.tlv_all.special_tlv.concat({name:"new",geometry:[e.lat,e.lng]}),bs:l.data.tlv_all.concat({name:"new",geometry:[e.lat,e.lng]}),jlm:l.data.tlv_all.concat({name:"new",geometry:[e.lat,e.lng]})},currentLocation:e})),r.replace({pathname:"/map",state:{}})}}),[s]);return c.a.createElement(E.a,{fluid:!0,className:"text-light bg-blue py-3"},c.a.createElement(y.a,null,c.a.createElement(L.a,null,c.a.createElement("h1",null,c.a.createElement("span",null," \u05e9\u05d5\u05de\u05e8\u05d9\u05dd \u05e2\u05dc \u05d4\u05d1\u05e0\u05d9\u05d9\u05e0\u05d9\u05dd \u05dc\u05e9\u05d9\u05de\u05d5\u05e8"),c.a.createElement("span",{role:"img","aria-label":"\u05d0\u05d5\u05d4\u05dc",className:"mx-1"})),c.a.createElement("h2",null,"\u05e8\u05d9\u05db\u05d5\u05d6 \u05de\u05d0\u05d2\u05e8\u05d9 \u05de\u05d9\u05d3\u05e2 \u05e2\u05dc \u05de\u05d1\u05e0\u05d9\u05dd \u05dc\u05e9\u05d9\u05de\u05d5\u05e8 \u05d1\u05de\u05d3\u05d9\u05e0\u05ea \u05d9\u05e9\u05e8\u05d0\u05dc"))),c.a.createElement(y.a,null,c.a.createElement(L.a,null,c.a.createElement(y.a,null,c.a.createElement(L.a,null,c.a.createElement(w.a,{variant:"secondary",onClick:function(){return function(e){var t=Object.keys(l[e]);console.log("KEys "+t);var a={};for(var n in t)a[t[n]]=!l[e][t[n]];console.log("output "+a),console.log(a);var c=Object(d.a)({},l);c[e]=a,o(c)}("showStatusTLV")}},"\u05d4\u05db\u05dc - \u05ea\u05dc \u05d0\u05d1\u05d9\u05d1"),"|",c.a.createElement(T.a,{value:"1",className:"Btn-region",checked:l.showStatusTLV.eclectic_tlv,type:"checkbox",variant:"secondary",onClick:function(){return o(Object(d.a)(Object(d.a)({},l),{},{showStatusTLV:Object(d.a)(Object(d.a)({},l.showStatusTLV),{},{eclectic_tlv:!l.showStatusTLV.eclectic_tlv})}))}},"\u05d0\u05e7\u05dc\u05e7\u05d8\u05d9"),"|",c.a.createElement(T.a,{value:"1",className:"Btn-region",checked:l.showStatusTLV.inter_tlv,type:"checkbox",variant:"secondary",onClick:function(){return o(Object(d.a)(Object(d.a)({},l),{},{showStatusTLV:Object(d.a)(Object(d.a)({},l.showStatusTLV),{},{inter_tlv:!l.showStatusTLV.inter_tlv})}))}},"inter_tlv"),"|",c.a.createElement(T.a,{value:"1",className:"Btn-region",checked:l.showStatusTLV.knesset_tlv,type:"checkbox",variant:"secondary",onClick:function(){return o(Object(d.a)(Object(d.a)({},l),{},{showStatusTLV:Object(d.a)(Object(d.a)({},l.showStatusTLV),{},{knesset_tlv:!l.showStatusTLV.knesset_tlv})}))}},"knesset_tlv"),"|",c.a.createElement(T.a,{value:"1",className:"Btn-region",checked:l.showStatusTLV.museum_tlv,type:"checkbox",variant:"secondary",onClick:function(){return o(Object(d.a)(Object(d.a)({},l),{},{showStatusTLV:Object(d.a)(Object(d.a)({},l.showStatusTLV),{},{museum_tlv:!l.showStatusTLV.museum_tlv})}))}},"museum_tlv"),"|",c.a.createElement(T.a,{value:"1",className:"Btn-region",checked:l.showStatusTLV.people_tlv,type:"checkbox",variant:"secondary",onClick:function(){return o(Object(d.a)(Object(d.a)({},l),{},{showStatusTLV:Object(d.a)(Object(d.a)({},l.showStatusTLV),{},{people_tlv:!l.showStatusTLV.people_tlv})}))}},"people_tlv"),"|",c.a.createElement(T.a,{value:"1",className:"Btn-region",checked:l.showStatusTLV.rest_tlv,type:"checkbox",variant:"secondary",onClick:function(){return o(Object(d.a)(Object(d.a)({},l),{},{showStatusTLV:Object(d.a)(Object(d.a)({},l.showStatusTLV),{},{rest_tlv:!l.showStatusTLV.rest_tlv})}))}},"rest_tlv"),"|",c.a.createElement(T.a,{value:"1",className:"Btn-region",checked:l.showStatusTLV.school_tlv,type:"checkbox",variant:"secondary",onClick:function(){return o(Object(d.a)(Object(d.a)({},l),{},{showStatusTLV:Object(d.a)(Object(d.a)({},l.showStatusTLV),{},{school_tlv:!l.showStatusTLV.school_tlv})}))}},"school_tlv"),"|",c.a.createElement(T.a,{value:"1",className:"Btn-region",checked:l.showStatusTLV.special_tlv,type:"checkbox",variant:"secondary",onClick:function(){return o(Object(d.a)(Object(d.a)({},l),{},{showStatusTLV:Object(d.a)(Object(d.a)({},l.showStatusTLV),{},{special_tlv:!l.showStatusTLV.special_tlv})}))}},"special_tlv"),"|")),c.a.createElement(T.a,{value:"1",className:"Btn-region",checked:l.showStatusTLV.eclectic_tlv,type:"checkbox",variant:"secondary",onClick:function(){return o(Object(d.a)(Object(d.a)({},l),{},{showBS:!l.showBS}))}},"\u05dc\u05d5\u05e1-\u05d0\u05e0\u05d2'\u05e1"),c.a.createElement(T.a,{value:"1",className:"Btn-region",checked:l.showStatusTLV.eclectic_tlv,type:"checkbox",variant:"secondary",onClick:function(){return o(Object(d.a)(Object(d.a)({},l),{},{showJLM:!l.showJLM}))}},"\u05d9\u05e8\u05d5\u05e9\u05dc\u05d9\u05dd"))),c.a.createElement(y.a,null,c.a.createElement(L.a,null,c.a.createElement(p.a,{center:l.currentLocation,zoom:l.zoom},c.a.createElement(g.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),console.log("in mapview: "+JSON.stringify(l.showStatusTLV)),c.a.createElement(S,{updateDB:l.updateDB,db:e.db,marks:l.data.tlv_all,showGroupStatus:l.showStatusTLV})))))}),B=(a(139),void 0),C=function(){var e=Object(n.useState)({longitude:0,latitude:0}),t=Object(b.a)(e,2),a=t[0],l=t[1];return Object(n.useEffect)((function(){fetch("https://api.airtable.com/v0/appgOPm5an5ZzNvkk/favorites?api_key=keyiw9cfT8UR5IwVM").then((function(e){return e.json()})).then((function(e){B.setState({movies:e.records})})).catch((function(e){})),navigator.geolocation.getCurrentPosition((function(e){l({longitude:e.coords.longitude,latitude:e.coords.latitude})}),(function(e){console.error("Error Code = "+e.code+" - "+e.message)}),{enableHighAccuracy:!0})}),[]),c.a.createElement("div",null,c.a.createElement("h1",null,"Geolocation"),c.a.createElement("p",null,"Latitude: ",a.latitude),c.a.createElement("p",null,"longitude: ",a.longitude),c.a.createElement(v.b,{to:{pathname:"/map",state:a}},"See marker"))},D=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleDBUpdate=function(e,t){var a=n.state.jsonDB;for(var c in a)if(a.hasOwnProperty(c))for(var l in c)if(a[c][l]&&a[c][l].id===e){var o=a[c][l].comments,s=void 0===o?t:o+"\n "+t;return a[c][l].comments=s,void n.putRequesteInDB(a)}},n.putRequesteInDB=function(e){m.ref("/").set(e),n.setState({jsonData:e})},n.handleClick=function(e){n.state.db.doc("LA").set({name:"Los Angeles",state:"CA",country:"USA"}).then((function(){console.log("Document successfully written!")})).catch((function(e){console.error("Error writing document: ",e)}))},n.state={value:"",loading:!0,activeDocRef:void 0,activeTab:"welcome",jsonURL:"https://api.jsonbin.io/b/602fced5bd6b755d0199c538",jsonKey:"$2b$10$2/NjcZqLfdoBPkpWyT71BuJeCNvU8FXl8QLhGcnAJUdAdbLdsjYK."},n}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this;m.ref("/").on("value",(function(t){var a=t.val()?t.val():{};e.setState({jsonDB:a,loading:!1})}))}},{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("button",{onClick:this.handleClick},"\u05de\u05e0\u05d9\u05e9"),c.a.createElement(v.a,null,c.a.createElement(h.c,null,c.a.createElement(h.a,{path:"/map"},this.state.loading?"loading":c.a.createElement(V,{updateDB:this.handleDBUpdate,db:this.state.jsonDB})),c.a.createElement(h.a,{path:"/"},c.a.createElement(C,null)))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(D,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},79:function(e,t,a){},81:function(e){e.exports=JSON.parse("{}")},82:function(e,t,a){e.exports=a.p+"static/media/venue_location_icon.2ceaf661.svg"}},[[124,1,2]]]);
//# sourceMappingURL=main.e00163c3.chunk.js.map